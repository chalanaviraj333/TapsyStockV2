<ion-header translucent>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button
        [defaultHref]="['tabs/tab1/year/', selectedCarDetails.carbrand, selectedCarDetails.model, startyear, endyear]"
      ></ion-back-button>
    </ion-buttons>
    <ion-title>Results</ion-title>
    <ion-buttons slot="end">
      <ion-menu-button menu="main-menu"></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-grid>
      <ion-row>
        <ion-col size-xs="5">
          <ion-img src="{{selectedCarDetails.image}}"> </ion-img>
        </ion-col>
        <ion-col size-xs="7">
          <ion-card-subtitle color="success"
            >{{selectedCarDetails.carbrand}} {{selectedCarDetails.model}}
            {{selectedCarDetails.selectedyear}}</ion-card-subtitle
          >
          <ion-label
            >Blade: {{selectedCarDetails.blade || 'Not Given'}}</ion-label
          >
          <br />
          <ion-label>ID: {{selectedCarDetails.carID || 'Not Given'}}</ion-label>
        </ion-col>
      </ion-row>
      <ion-row class="ion-align-items-center">
        <ion-col size-xs="12">
          <ion-card-subtitle color="dark"
            >Car Programming Notes</ion-card-subtitle
          >
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-list>
          <ion-item *ngFor="let note of carnotes" class="carnotes">
            {{note}}
          </ion-item>
        </ion-list>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12">
          <form #f="ngForm" (ngSubmit)="onSubmit(f)">
            <ion-card>
              <ion-item lines="none">
                <ion-textarea
                  ngModel
                  name="carnote"
                  placeholder="Enter any notes here..."
                ></ion-textarea>
              </ion-item>
              <br />
              <ion-button size="small" type="submit" expand="block"
                >SAVE</ion-button
              >
            </ion-card>
          </form>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>

  <div id="errorContent">
    <ion-chip *ngIf="isFetching" color="danger">
      <ion-icon [name]="iconerror" color="danger"></ion-icon>
      <ion-label>{{printerror}}</ion-label>
    </ion-chip>
  </div>

  <ion-card *ngFor="let remote of compitableremotes" class="originalremotes">
    <ion-grid>
      <ion-row>
        <ion-col size-xs="12">
          <ion-card>
            <img src="{{remote.image}}" width="320" height="320" />
          </ion-card>
          <div id="lowstockErrorcontent">
            <ion-chip color="danger" *ngIf="!remote.remoteinStock">
              <ion-icon name="sad-outline" color="danger"></ion-icon>
              <ion-label>LOW STOCK!!</ion-label>
            </ion-chip>
          </div>
        </ion-col>
      </ion-row>
      <ion-row id="toprow">
        <ion-col size-xs="5">
          <h1 class="detailtitles">Box No:</h1>
        </ion-col>
        <ion-col size-xs="3">
          <h1 class="remotedetails">{{remote.boxnumber}}</h1>
        </ion-col>
        <ion-col class="remotetypebox ion-text-center" size-xs="4">
          <h1>| {{remote.remotetype}}</h1>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="12">
          <ion-button id="lowStockButton" expand="block" color="danger" (click)="onClickLowStock(remote.tapsycode)" [disabled]="!remote.remoteinStock">LOW STOCK</ion-button>

        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="4">
          <ion-label>Tapsy Code:</ion-label>
        </ion-col>
        <ion-col size-xs="8">
          <ion-label><b>{{remote.tapsycode}}</b></ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="4">
          <ion-label>Blade:</ion-label>
        </ion-col>
        <ion-col size-xs="8">
          <ion-label><b>{{remote.inbuildblade}}</b></ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="4">
          <ion-label>Chip:</ion-label>
        </ion-col>
        <ion-col size-xs="8">
          <ion-label><b>{{remote.inbuildchip}}</b></ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="4">
          <ion-label>Frequency:</ion-label>
        </ion-col>
        <ion-col size-xs="8">
          <ion-label><b>{{remote.frequency}}</b></ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="4">
          <ion-label>Buttons:</ion-label>
        </ion-col>
        <ion-col size-xs="8">
          <ion-label><b>{{remote.buttons}}</b></ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xs="4">
          <ion-label>Battery:</ion-label>
        </ion-col>
        <ion-col size-xs="8">
          <ion-label><b>{{remote.battery}}</b></ion-label>
        </ion-col>
      </ion-row>
      <!-- <ion-row>
        <ion-col size-xs="4">
          <ion-label>Cost per Item:</ion-label>
        </ion-col>
        <ion-col size-xs="8">
          <ion-label><b>${{remote.costperitem}}</b></ion-label>
        </ion-col>
      </ion-row> -->
      <ion-row>
        <ion-col>
          <ion-label>Special Notes:</ion-label>
        </ion-col>
        <ion-text color="danger"> {{remote.notes}} </ion-text>
      </ion-row>
    </ion-grid>
  </ion-card>
</ion-content>
